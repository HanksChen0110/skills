---
date: 2025-01-XX
---

# AI PRD 方法论：从"功能设计"到"智能体行为规约"

## 一、核心理念：写AI PRD先要改脑回路

### 1.1 思维转变：从"产品功能"到"智能体行为"的设计

**传统PRD vs AI-PRD：**
- **传统PRD**：像一份"建筑施工图"，精确定义每一个界面、每一个按钮、每一个固定的交互流程
- **AI-PRD**：更像一本"虚拟员工培训手册"，核心是定义AI的目标、能力边界、行为准则和决策逻辑，允许其在框架内进行"自由发挥"

**核心思想**：我们设计的不是一个"功能"，而是一个"角色"。

**在文档里必须写清：**
- 哪些行为必须稳定可复现
- 哪些可以允许有弹性，以及弹性有多大
- 我来规定流程每一个阶段 → 我来定义框架/边界/目标/评价方式

### 1.2 先搞清楚自己在做哪种AI

一个简单又够用的切法，是先问自己两个问题：
1. 用户的主线流程有没有被改写，还是只是多了几个更聪明的节点？
2. 这个 AI 在决策链上的位置，是提供建议，还是可以直接执行？

**嵌入型AI产品 vs Agent型AI产品：**
- **嵌入型AI产品**关注点：在哪些点引入 AI、用什么数据、怎么兜底
- **Agent型AI产品**关注点：这个AI角色在整个流程能可以自由分配的权限以及相关的规范

### 1.3 新旧 PRD 的分界线：根本是怎么对待不确定性

**在AI产品设计中，必须明确三类场景：**
1. **哪些场景必须给用户确定答案**：模型一旦给不出来，就要立刻交回给规则或人工
2. **哪些场景可以给出一个"相对合理"的建议**：让用户自己决策
3. **哪些场景必须先问清楚再行动**：不允许模型瞎补

**核心差异：**
- 传统PRD：规定流程
- AI PRD：偏重决策和容错的设计

**在 AI 时代，PRD 的核心工作从"描述功能"逐渐变成"描述边界、目标和评价方式"**

---

## 二、AI-PRD的核心结构（7个必写部分）

### 2.1 第一部分：产品目标与范围 (Product Goal & Scope)

**必须包含：**
- 项目背景、用户价值、商业目标
- 明确定义本次PRD要规约的Agent的核心职责和能力边界（即，什么能做，什么不能做）

**撰写要点：**
- ❌ **糟糕的目标描述**：做一个AI agent帮助用户解决问题
- ✅ **优秀的目标描述**：
  - 打造一款AI Agent，描述一个具体的、可量化的目标
  - 核心价值：区别于传统方案的核心差异化价值
  - 范围边界：本期(v1.0)Agent专注于XX，不涉及XX功能

### 2.2 第二部分：Agent核心人设 (Core Agent Persona)

**必须包含：**
- 角色定位、语言风格、知识领域、行为禁忌等
- 将Persona设计文字化、规则化

**撰写要点：**
- ❌ **糟糕的描述**：友好、热情、专业
- ✅ **优秀的描述**：
  - **角色定位**：具体描述Agent的角色形象（如：一位走遍世界、乐于分享的旅行家）
  - **语言风格**：热情、知识渊博，但不说教。多用"我帮你发现了一个..."这样的句式
  - **行为准则**：永远把用户的"体验偏好"放在第一位，在推荐时必须给出明确的推荐理由
  - **行为禁忌**：绝不使用"保证"、"100%安全"等承诺性词汇。在涉及严肃问题时，必须引导用户查询官方信息

### 2.3 第三部分：核心工作流与意图定义 (Core Workflow & Intent Definition)

**必须包含：**
- 定义用户可能的核心意图(Intents)
- Agent响应不同意图时应遵循的主流程

**撰写要点：**
- **核心工作流示例**：理解需求 → 规划任务 → 审计校验 → 优化迭代
- **意图识别示例**：
  - 寻找目的地：当用户说"我想去一个温暖的地方"
  - 创建行程：当用户说"帮我做一个5天的丽江行程"
  - 优化行程：当用户说"第二天的安排太满了，换掉一个"

### 2.4 第四部分：技能与工具集详述 (Skills & Toolset Specification)

**必须包含：**
- 明确定义Agent需要调用的所有"工具"(Plugins/API)
- 对每一个工具，需描述其功能、输入/输出参数、以及调用时机

**撰写要点（示例）：**
- **工具1：联网搜索(web_search)**
  - 功能描述：用于搜索最新的资讯、攻略、介绍
  - 调用时机：当用户的提问涉及实时信息或主观体验评价时
  - 输入参数：搜索关键词
  - 输出参数：搜索结果列表
- **工具2：地图服务(map_api)**
  - 功能描述：用于查询地点信息、计算两地距离和路线
  - 输入参数：地点名称或经纬度
  - 输出参数：地址、评分、营业时间、路线规划

### 2.5 第五部分：知识库与RAG策略 (Knowledge Base & RAG Strategy)

**必须包含：**
- 知识库的来源、数据格式、更新机制
- 当知识库中找不到答案时的回复策略

**关键决策点：**
- **知识库构成**：知识库可能由"100篇精选文章"、"专业书籍PDF"、"内部笔记"构成
- **检索优先级**：当用户提问时，是应该优先检索知识库，还是优先联网搜索？这个策略决定了产品是更偏向"独家推荐"还是"实时资讯"
- **冲突处理规则**：如果知识库的内容和网络搜索的结果不一致，应该以哪个为准？
- **引用与溯源**：当Agent的回答引用了知识库内容时，是否需要在答案中标明来源？（比如"根据《XX》的推荐..."），这能极大地增强答案的权威性

### 2.6 第六部分：对话逻辑与COT应用 (Dialogue Logic & COT Application)

**必须包含：**
- 对于需要多步推理的任务，定义其"思考链(Chain of Thought)"的关键步骤
- 作为算法实现的重要参考

**撰写要点（示例）：**
- **Step1（澄清需求）**：主动询问用户的核心信息："好的，为您规划5天的行程。请问您的预算大概是多少？偏好自然风光还是人文古迹？"
- **Step2（信息检索与规划）**：基于用户的回答，调用工具和知识库，为每一天初步筛选出3-5个活动备选
- **Step3（路径优化）**：结合地理位置，对活动进行排序，形成最优的每日动线
- **Step4（草案呈现与征求反馈）**：输出第一版草案，并主动提问："这是为您规划的初步方案，有没有哪些地方想调整的？"

### 2.7 第七部分：异常处理与兜底策略 (Exception Handling & Fallback Strategy)

**必须包含：**
- 规约在各种失败情况下的产品表现
- **必须制作异常情况处理表！**

**常见异常情况与兜底策略：**
- **异常情况1**：模型输出了不合规、有风险的内容
  - **兜底策略**：触发安全模块，输出预设的、安全的标准话术
- **异常情况2**：API调用失败，无法获取数据
  - **兜底策略**：Agent应回复："暂时无法获取XX信息，但这是为您规划的方案，不受XX影响的部分..."
- **异常情况3**：用户输入了Agent完全无法理解的意图
  - **兜底策略**：在尝试1-2次澄清行动引导用户，展示Agent的核心功能菜单，或者提供"转接人工客服"的选项

---

## 三、商业与数据思维：成本账、收益账和风险账

### 3.1 技术可行性与成本评估

**AI的成本构成(Tokenomics)：**
- Token的计价模式（按输入/输出计费）
- 实战估算：估算一个典型的Agent单次交互（如：一次联网搜索+一次总结回答）的大致Token成本

**"Build vs. Buy"决策框架：**
- **Buy（直接调用API）**：
  - 优点：快速、低门槛
  - 缺点：数据隐私风险、长期成本高、无核心壁垒
- **Build（自研/微调）**：
  - 优点：数据安全、可形成长期壁垒
  - 缺点：成本高、周期长、技术门槛高
- **决策依据**：根据业务阶段、数据敏感性和预算做出判断

**如何与工程师沟通"可行性"：**
- 这个功能对模型推理的延迟(Latency)有什么要求？
- 我们需要什么样的数据量才能启动这个项目的冷启动？

### 3.2 AI产品核心指标体系

**指标金字塔模型：**
- **顶层（业务指标）**：用户留存率、付费转化率、活跃度(DAU/MAU)
- **中层（产品体验指标）**：
  - 任务型指标：任务完成率、独立解决率、转人工率
  - 内容型指标：用户采纳率、内容生成质量评分、分享率
  - 通用指标：用户满意度(CSAT)、净推荐值(NPS)
- **底层（模型效果指标）**：准确率、召回率、事实正确性、安全红线触发率等（PM需理解其含义，并与算法同学共同定义）

**AI的A/B测试**：科学地设计实验，对比不同模型、不同Prompt策略的优劣

### 3.3 风险管控与MVP哲学

**从MVP到MAP（最小可接受性能）：**
- MVP的核心，不再是一个"最小功能集"，而是一个"最小可接受性能"(MAP - Minimum Acceptable Performance)
- 定义"最小可接受性能"：在核心场景下，模型准确率达到多少才允许上线

**人机协作(HITL - Human-in-the-loop)模式设计：**
- 明确哪些场景必须人工介入
- 设计人机协作的触发点和交接流程

**数据驱动的迭代规划：**
- 根据上线后收集到的"Bad Case"（模型搞砸的案例），进行归因分析
- 以此规划下一个版本的迭代方向

---

## 四、评测真的很关键

**AI产品的评测挑战：**
- AI 产品很难沿用"功能测试用例 + 非功能指标"这一套
- 因为很多关键体验不再是"通过 / 不通过"，是体验"好一点 / 差一点"

**评测要点：**
- 定义MAP（最小可接受性能）
- 建立三层指标体系（业务/体验/模型）
- 设计Badcase归因分析流程（上线后的迭代引擎）

---

## 五、别把"用大模型写 PRD"当成偷懒捷径

**正确使用LLM写PRD的方法：**
- 学会用"LLM来写PRD"，可以大幅提升效率，将更多时间用于学习和思考
- 只需要做三件事情：给材料，调教AI，审核AI

**但是真正困难的那一部分——问题定义、边界设定、评估标准——仍然需要你自己先想透，再让工具去协助补全和表述！**

---

## 六、PRD的局限性与适用边界

### 6.1 PRD不能保证成功

**重要提醒：**
- ✅ PRD是降低失败概率的工具，不是成功的保证
- ✅ 即使PRD写得再完整，产品仍可能因为市场、技术、团队等因素失败
- ✅ PRD的价值在于：让团队对齐目标、减少沟通成本、提前发现风险

**PRD写得好但产品失败的常见原因：**
1. **市场时机不对**：需求判断错误，市场还没准备好
2. **技术实现困难**：低估了技术复杂度，无法按时交付
3. **团队执行偏差**：PRD理解不一致，执行走样
4. **资源投入不足**：预算、人力、时间不够支撑完整实现
5. **用户不接受**：虽然逻辑自洽，但用户实际使用习惯不同

### 6.2 PRD复杂度分级

**根据项目阶段和资源，选择不同复杂度的PRD：**

- **最小可行PRD（MVP阶段）**：
  - 必须包含：产品目标与范围、核心工作流、异常处理
  - 适用场景：快速验证想法、资源极度有限、探索性项目

- **标准PRD（正式开发阶段）**：
  - 必须包含：产品目标、Agent人设、工作流、工具集、异常处理
  - 适用场景：正式立项、有明确时间表、需要跨团队协作

- **完整PRD（成熟产品迭代）**：
  - 包含全部7个部分 + 商业数据思维 + 完整指标体系
  - 适用场景：重要功能迭代、需要详细规划、有充足资源

### 6.3 适用边界：什么时候不应该用AI

**以下场景可能不适合用AI，或需要特别谨慎：**
1. **高安全风险场景**：医疗诊断、金融交易、法律判决等，需要人工最终审核
2. **数据极度敏感**：涉及国家安全、商业秘密，需要完全可控
3. **成本不可控**：Token成本可能远超收益的场景
4. **用户不接受不确定性**：用户期望100%准确，不接受"相对合理"的建议
5. **技术不成熟**：当前AI技术无法达到最低可接受性能(MAP)

**判断标准：**
- 如果"AI出错"的代价 > "不用AI"的成本，需要重新评估
- 如果用户对不确定性的容忍度 < AI的实际准确率，需要调整策略

---

## 七、总结

**在 AI 时代，PRD 的核心工作从"描述功能"逐渐变成"描述边界、目标和评价方式"**

### 7.1 一份优秀的AI-PRD应该具备

- ✅ **有"魂"**：理解AI产品的本质，从"功能设计"转向"智能体行为规约"
- ✅ **有"骨"**：具备完整的核心结构（根据项目阶段选择复杂度），让研发能看懂、让老板能算账、让产品能落地
- ✅ **有"血肉"**：包含具体的示例、Checklist和异常处理表，让执行有章可循
- ✅ **有"边界"**：明确知道什么能做、什么不能做，什么时候不适用

### 7.2 最重要的3个原则

1. **从"理想"到"现实"**：PRD不是理想蓝图，而是现实约束下的最佳实践
2. **从"成功"到"避坑"**：不仅要告诉你怎么做，更要帮你避免常见错误
3. **从"完整"到"迭代"**：不要追求一次性完美，要根据阶段迭代完善

### 7.3 快速行动清单

看完这份方法论后，立即可以做的3件事：

1. **判断项目类型**：嵌入型还是Agent型？适用AI还是不适合？
2. **选择PRD复杂度**：最小可行、标准、还是完整PRD？
3. **开始写核心3部分**：产品目标、核心工作流、异常处理

**记住：PRD是起点，不是终点。持续迭代，持续验证。**
